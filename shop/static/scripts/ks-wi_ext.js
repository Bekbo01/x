!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}({6:function(t,e,n){"use strict";n(7);var r,i=(r=n(8))&&r.__esModule?r:{default:r};window.ksWidgetInitializer=function(){var t=document.createElement("a"),e=[];t.setAttribute("href",document.getElementById("KS-Widget").src);var n=t.protocol+"//"+t.hostname+(t.port.length?":"+t.port+"/":"/")+"kaspibutton/frame",r=["id","template","style","merchantCode","merchantSku","city","pt","url"],o={toCamelCase:function(t){return t.replace(/-([a-z])/g,(function(t){return t[1].toUpperCase()}))},dataAttrNameToCCKey:function(t){return o.toCamelCase(t.replace("data-",""))},getWidgetAttrs:function(t){var e={};return Array.prototype.forEach.call(t.attributes,(function(t){/^data-/.test(t.name)&&(e[o.dataAttrNameToCCKey(t.name)]=t.value)})),e}};function a(t,e){this.parentDiv=t,this.data=e,this.iframe=null,this.data.id=(0,i.default)(),this.parentDiv.id=this.data.id,this.render()}function u(t){e.splice(e.indexOf(t),1)}function c(){Array.prototype.slice.call(document.querySelectorAll(".ks-widget")).forEach((function(t){var n,r,i,u;n=t,r=o.getWidgetAttrs(t),u=!1,e.some((function(t){return u=t.parentDiv===n})),!u&&(i=new a(n,r),e.push(i))}))}return a.prototype.frameSize={button:[160,44],flatButton:{desktop:[210,45],mobile:[null,45],small:[null,34]}},a.prototype.render=function(){var t=this.frameSize[this.data.template];if(t&&!Array.isArray(t)&&(t=t[this.data.style||"desktop"]),!t)throw new Error("no size for frame "+this.data.template);this.iframe=document.createElement("iframe"),this.iframe.src=n+"?"+this.getParams(),this.iframe.frameBorder=0,t[0]?this.iframe.width=t[0]:this.iframe.style.width="100%",this.iframe.height=t[1],this.parentDiv.appendChild(this.iframe)},a.prototype.getParams=function(){var t=Object.assign({},this.data);return"false"!==t.extraParams&&(t.url=window.location.origin+window.location.pathname,t.pt=document.title,t.url=t.url.slice(0,300),t.pt=t.pt.slice(0,300)),Object.keys(t).filter((function(t){return r.some((function(e){return e===t}))})).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")},window.addEventListener("message",(function(t){var n;if("ks-widget"!==t.data.name)return!1;if(t.data.errors){if(e.some((function(e){if(t.data.id===e.parentDiv.id)return n=e,!0})),!n)throw new Error("widget ids do not match");!function(t){t.parentDiv.parentNode.removeChild(t.parentDiv),u(t)}(n)}}),!1),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",c,!1):c(),{reinit:function(){e.forEach((function(t){document.getElementById(t.data.id)||u(t)})),c()}}}()},7:function(t,e,n){"use strict";"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var n=arguments[e];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t})},8:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(t?"ks-"+t+"-":"ks-")+(+new Date+~~(1e4*Math.random())).toString(36)}}});
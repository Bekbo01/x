(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var k,l=this||self;var m=window._top100.getPubSub();const n=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(let c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},q=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){const d=a.length,e="string"===typeof a?a.split(""):a;for(let f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};
function t(a,b,c){a:{var d=a.length;const e="string"===typeof a?a.split(""):a;for(--d;0<=d;d--)if(d in e&&b.call(c,e[d],d,a)){b=d;break a}b=-1}return 0>b?null:"string"===typeof a?a.charAt(b):a[b]};function u(a){this.i=[];this.u=[];this.h={};this.D=this.m=0;this.B=a||!1}k=u.prototype;k.F=function(){return 0===this.m&&0===this.D};k.clone=function(){for(var a=new u(this.B),b=this.u.concat(),c=this.i.concat(),d=0;d<b.length;++d)a.A(b[d],this.h[b[d]]);for(b=0;b<c.length;++b)a.set(c[b],this.h[c[b]]);return a};k.get=function(a,b){a=v(this,a);return Object.prototype.hasOwnProperty.call(this.h,a)?this.h[a]:b};
k.set=function(a,b){a=v(this,a);Object.prototype.hasOwnProperty.call(this.h,a)||(this.m++,this.i.push(a));this.h[a]=b};k.remove=function(a){a=v(this,a);if(Object.prototype.hasOwnProperty.call(this.h,a)){delete this.h[a];for(var b=[],c=0,d=this.i.length;c<d;++c)this.i[c]!==a&&b.push(this.i[c]);this.i=b;this.m=b.length}};k.A=function(a,b){a=v(this,a);Object.prototype.hasOwnProperty.call(this.h,a)||(this.D++,this.u.push(a));this.h[a]=b};
k.toString=function(){if(this.F())return"";for(var a=[],b=this.u.concat().concat(this.i.concat()),c,d,e=0,f=b.length;e<f;++e)c=b[e],d=this.get(c),c=encodeURIComponent(String(c)),""!==d&&(c+="="+encodeURIComponent(String(d))),a.push(c);return a.join("&")};function v(a,b){b=String(b);a.B&&(b=b.toLowerCase());return b}var w=u.prototype;w.set=w.set;w.get=w.get;w.setMeta=w.A;w.remove=w.remove;w.isEmpty=w.F;w.toString=w.toString;var x=!1;
(function(a){function b(){c||(x=c=!0,a())}var c=!1;x&&a();if(document.addEventListener)document.addEventListener("DOMContentLoaded",function(){b()},!1);else if(document.attachEvent){if(document.documentElement.doScroll&&window==window.top){function d(){if(!c&&document.body)try{document.documentElement.doScroll("left"),b()}catch(e){setTimeout(d,0)}}d()}document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&b()})}window.addEventListener?window.addEventListener("load",b,
!1):window.attachEvent&&window.attachEvent("onload",b)})(function(){x=!0});function y(a,b){return document.querySelectorAll?b&&b instanceof Element&&typeof b.querySelectorAll?b.querySelectorAll(a):document.querySelectorAll(a):[]};function z(a){try{var b=JSON.parse(a)}catch(c){}return b};var A={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},B={IMG:" ",BR:"\n"};function C(a){var b=[];D(a,b,!0);a=b.join("");a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");a=a.replace(/ +/g," ");" "!=a&&(a=a.replace(/^\s*/,""));return a}function D(a,b,c){if(!(a.nodeName in A))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in B)b.push(B[a.nodeName]);else for(a=a.firstChild;a;)D(a,b,c),a=a.nextSibling};function E(){this.l=void 0}
function F(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(Array.isArray(b)){var d=b;b=d.length;c.push("[");var e="";for(var f=0;f<b;f++)c.push(e),e=d[f],F(a,a.l?a.l.call(d,String(f),e):e,c),e=",";c.push("]");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");f="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e=b[d],"function"!=typeof e&&(c.push(f),G(d,c),c.push(":"),F(a,a.l?a.l.call(b,d,e):e,c),f=","));c.push("}");return}}switch(typeof b){case "string":G(b,
c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}}var H={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},I=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;
function G(a,b){b.push('"',a.replace(I,function(c){let d=H[c];d||(d="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),H[c]=d);return d}),'"')};function J(){this.j=[];this.g={}}
function K(a,b,c){b=y("[itemprop]",b);0==b.length||q(b,function(d){if(!(0<=n(this.j,d))){this.j.push(d);var e=d.getAttribute("itemprop"),f=this.o;switch(e){case "identifier":if(this.g.mid)break;this.g.mid=f(d,"content");break;case "headline":this.g.title=d?C(d):"";break;case "datePublished":this.g.dpub=f(d,"content")||f(d,"datetime");break;case "dateModified":this.g.dmod=f(d,"content")||f(d,"datetime");break;case "genre":this.g.thm=f(d,"content");break;case "description":case "abstract":this.g.des=(d?
C(d):"")||f(d,"content");break;case "articleBody":L(d,this.g);break;case "author":this.g.anm=f(d,"content");break;case "name":"author"===c&&(this.g.anm=f(d,"content"));break;case "url":"author"===c&&(this.g.aurl=f(d,"href"))}}},a)}function M(a,b){b=y("[itemscope]",b);0==b.length||q(b,function(c){if(!(0<=n(this.j,c)))switch(c.getAttribute("itemprop")){case "author":this.j.push(c),K(this,c,"author")}},a)}
function L(a,b){b.arth=a?a.offsetHeight:0;var c=0;if(a){var d=a.getBoundingClientRect();var e=l.document.body,f=l.document.documentElement;d={top:d.top+(window.pageYOffset||f.scrollTop||e.scrollTop)-(f.clientTop||e.clientTop||0),left:d.left+(window.pageXOffset||f.scrollLeft||e.scrollLeft)-(f.clientLeft||e.clientLeft||0)}}else d={};d&&d.top&&(c=parseInt(d.top,10));b.artst=c;c=a?C(a):"";b.arts=c?c.length:0;c=a?C(a):"";b.artw=c?c.split(" ").length:0;if(c=a)c=y("img",a);a=c;b.img=a?a.length:0}
function N(a){return(a=a&&a.getAttribute("itemtype"))?a.split("schema.org/")[1]:""}function O(a){return t(y("[itemscope]",void 0),function(b){var c=N(b);return b.children.length&&("BlogPosting"===c||"NewsArticle"===c||"Article"===c||"WebPage"===c||"News"===c)},a)}function P(a){return t(y('[type="application/ld+json"]',void 0),function(b){b=b.innerText;return~b.indexOf("BlogPosting")||~b.indexOf("Article")||~b.indexOf("WebPage")||~b.indexOf("News")},a)}
J.prototype={o:function(a,b){return a&&a.getAttribute(b)||""},s:function(a,b){return a&&void 0!==b?a[b]:""},v:function(){var a={};this.g.url&&(a.url=this.g.url);this.g.mid&&(a.mid=this.g.mid);return a}};function Q(){this.C=new J}var R=void 0;
Q.prototype.G=function(){var a=this.C;a.g={};var b=O(a);if(b)a.g.type=N(b),a.g.mid=a.o(b,"data-id"),a.g.sch="micro",M(a,b),K(a,b);else if(b=P(a)){var c=b;b={};var d=a.s,e=z(c.innerText);if(e){b.sch="ld";b.type=d(e,"@type");b.title=d(e,"name")||d(e,"headline");b.des=d(e,"description");b.dpub=d(e,"datePublished");b.dmod=d(e,"dateModified");b.thm=d(e,"articleSection");var f=z(c.innerText),r="";c:{var p=c;Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||
Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);for(;p;){if(p.matches("body"))break c;p=p.parentElement}p=null}if(p)var g=c.parentNode;else f.mainEntityOfPage?r=a.s(f.mainEntityOfPage,"@id"):f.mainEntity?r=a.s(f.mainEntity,"@id"):f["@id"]&&(r=f["@id"]),(c=r&&r.split("#")[1])&&(g=document.getElementById(c)),g||=document.getElementsByTagName("body")[0];L(g,b);e.image&&e.image.length&&(b.img=e.image.length);e.author&&(b.anm=d(e.author,"name"),b.aurl=d(e.author,"url"));b.url=
e.mainEntityOfPage?d(e.mainEntityOfPage,"@id"):d(e,"url");e.identifier&&"mediaId"===d(e.identifier,"propertyID")&&(b.mid=d(e.identifier,"value"));g=b}else g={};a.g=g}b:{for(h in a.g){var h=!1;break b}h=!0}h?a=!1:(a.g.url||(h=a.g,g=y('[rel="canonical"]',void 0),(g=g[0]&&a.o(g[0],"href"))||(g=l.location.origin+l.location.pathname),h.url=g),a.g.title||(h=a.g,g=y("title",void 0),b="",0==g.length||(b=C(g[0])),h.title=b),a=a.g,JSON&&"function"===typeof JSON.stringify?a=JSON.stringify(a):(h=[],F(new E,a,
h),a=h.join("")),h=new u,h.A("et","pvm"),h.set("mp",a),h.set("rf",l.document.referrer?l.document.referrer:""),a=h);return a};Q.prototype.v=function(){return this.C.v()};var S=Q.prototype;S.getMediaDataEvent=S.G;S.getMediaData=S.v;m.publish("module_init","media",function(){R||=new Q;return R});})();
